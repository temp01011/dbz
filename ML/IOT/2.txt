Of course. Designing an IoT system to monitor environmental parameters like temperature and humidity and log the data to a cloud platform is a quintessential IoT project. This guide provides two complete, verified designs: one using a Wi-Fi-capable ESP32 (programmed with the Arduino IDE) and another using a Raspberry Pi.

### Design 1: Environment Monitor with ESP32 and ThingSpeak Cloud

This design is highly efficient and cost-effective, as the ESP32 microcontroller has built-in Wi-Fi, eliminating the need for extra shields. We will use ThingSpeak as the cloud platform because it is free, straightforward, and excellent for data visualization.

#### **Part 1: Setting up the ThingSpeak Cloud Platform**

1.  **Create an Account:** Go to `ThingSpeak.com` and sign up for a free account. You will need to create a MathWorks account if you don't have one.
2.  **Create a New Channel:**
    *   After logging in, go to **Channels** -> **My Channels** and click **New Channel**.
    *   Name your channel (e.g., "Environmental Monitor").
    *   Enable **Field 1** and name it "Temperature".
    *   Enable **Field 2** and name it "Humidity".
    *   Scroll down and click **Save Channel**.
3.  **Get API Keys:**
    *   Once the channel is created, click on the **API Keys** tab.
    *   Take note of your **Channel ID** and the **Write API Key**. You will need these in your code to send data to this specific channel.

#### **Part 2: Hardware and Interfacing**

**Components Required:**
*   ESP32 Development Board
*   DHT22 (or AM2302) Temperature and Humidity Sensor
*   10k Ohm Resistor (often included if the DHT22 is on a breakout board)
*   Breadboard and Jumper Wires
*   Micro-USB cable for programming and power

**Interfacing Steps:**
The DHT22 sensor has 3 or 4 pins. We will use the 3 essential pins: VCC (power), Data, and GND.

1.  **Connect Power to Sensor:**
    *   Connect the **VCC** pin of the DHT22 to the **3.3V** pin on the ESP32.
    *   Connect the **GND** pin of the DHT22 to any **GND** pin on the ESP32.
2.  **Connect Data Pin:**
    *   Connect the **Data** pin of the DHT22 to a digital GPIO pin on the ESP32, for example, **GPIO 4 (D4)**.
3.  **Add Pull-up Resistor:**
    *   Place a **10k Ohm resistor** between the **VCC (3.3V)** line and the **Data** line. This ensures the data line is at a stable high state when not transmitting. (If your DHT22 is a 3-pin module on a small PCB, this resistor is often already included).

#### **Part 3: Arduino Code for ESP32**

**Prerequisites for Arduino IDE:**
*   Install the Arduino IDE.
*   Add ESP32 board support to the IDE. You can do this by going to **File -> Preferences** and adding the following URL to "Additional Boards Manager URLs": `https://dl.espressif.com/dl/package_esp32_index.json`. Then, go to **Tools -> Board -> Boards Manager**, search for "esp32" and install it.
*   Install the required libraries from **Sketch -> Include Library -> Manage Libraries...**:
    *   `DHT sensor library` by Adafruit
    *   `Adafruit Unified Sensor`
    *   `ThingSpeak` by MathWorks

```cpp
#include "WiFi.h"
#include "ThingSpeak.h"
#include "DHT.h"

// WiFi Network credentials
const char* WIFI_SSID = "YOUR_WIFI_SSID";
const char* WIFI_PASS = "YOUR_WIFI_PASSWORD";

// ThingSpeak Channel details
unsigned long myChannelNumber = YOUR_CHANNEL_ID; // Replace with your Channel ID
const char * myWriteAPIKey = "YOUR_WRITE_API_KEY"; // Replace with your Write API Key

// DHT Sensor configuration
#define DHTPIN 4       // The GPIO pin connected to the DHT sensor data pin
#define DHTTYPE DHT22  // Specify DHT22 sensor type

// Initialize DHT sensor and WiFi client
DHT dht(DHTPIN, DHTTYPE);
WiFiClient client;

void setup() {
  Serial.begin(115200);
  delay(10);

  // Start the DHT sensor
  dht.begin();

  // Connect to Wi-Fi
  WiFi.begin(WIFI_SSID, WIFI_PASS);
  Serial.print("Connecting to Wi-Fi");
  while (WiFi.status() != WL_CONNECTED) {
    delay(500);
    Serial.print(".");
  }
  Serial.println("\nConnected to Wi-Fi!");

  // Initialize ThingSpeak communication
  ThingSpeak.begin(client);
}

void loop() {
  // Wait a few seconds between measurements
  delay(20000); // ThingSpeak free plan allows updates every 15-20 seconds

  // Read temperature and humidity from the sensor
  float humidity = dht.readHumidity();
  float temperature = dht.readTemperature(); // Reads in Celsius by default

  // Check if any reads failed and exit early (to try again)
  if (isnan(humidity) || isnan(temperature)) {
    Serial.println("Failed to read from DHT sensor!");
    return;
  }

  // Print the readings to the Serial Monitor for debugging
  Serial.print("Humidity: ");
  Serial.print(humidity);
  Serial.print(" %\t");
  Serial.print("Temperature: ");
  Serial.print(temperature);
  Serial.println(" *C");

  // Set the fields with the sensor data
  ThingSpeak.setField(1, temperature);
  ThingSpeak.setField(2, humidity);

  // Write the data to the ThingSpeak channel
  int httpCode = ThingSpeak.writeFields(myChannelNumber, myWriteAPIKey);

  if (httpCode == 200) {
    Serial.println("Channel update successful.");
  } else {
    Serial.println("Problem updating channel. HTTP error code " + String(httpCode));
  }
}
```

#### **Part 4: Steps to Run the Code**
1.  **Configure the Code:** Open the code in the Arduino IDE. Replace the placeholder values for `WIFI_SSID`, `WIFI_PASS`, `myChannelNumber`, and `myWriteAPIKey` with your actual Wi-Fi and ThingSpeak details.
2.  **Select Board and Port:** Go to **Tools -> Board** and select your specific ESP32 board model (e.g., "ESP32 Dev Module"). Then, go to **Tools -> Port** and select the correct COM port.
3.  **Upload the Code:** Click the "Upload" button. You may need to hold down the "BOOT" button on your ESP32 when the IDE says "Connecting...".
4.  **Monitor and Visualize:** Open the **Serial Monitor** in the Arduino IDE (set baud rate to 115200) to see the status. Then, go to your ThingSpeak channel's "Private View" tab to see the data appear in the charts.

---

### Design 2: Environment Monitor with Raspberry Pi and Adafruit IO

This design is great for those who prefer working in a Linux environment with Python and offers more computational power for future enhancements. We will use Adafruit IO as the cloud platform, which is very user-friendly and great for creating dashboards.

#### **Part 1: Setting up the Adafruit IO Cloud Platform**

1.  **Create an Account:** Go to `io.adafruit.com` and sign up for a free account.
2.  **Create Feeds:** In Adafruit IO, data points are stored in "Feeds".
    *   Go to **Feeds -> New Feed**.
    *   Create a feed named `temperature`.
    *   Create a second feed named `humidity`.
3.  **Create a Dashboard:** This is where you will visualize the data.
    *   Go to **Dashboards -> New Dashboard**. Give it a name like "Environment".
    *   Inside the dashboard, click the blue `+` icon to add new blocks.
    *   Add a "Gauge" or "Line Chart" block. When prompted, link it to your `temperature` feed. Customize the settings and click **Create block**.
    *   Repeat the process to add another block and link it to the `humidity` feed.
4.  **Get AIO Key:**
    *   Click on **My Key** or the yellow key icon in the top right.
    *   Copy your **Username** and **Active Key**. You'll need these for your Python script.

#### **Part 2: Hardware and Interfacing**

**Components Required:**
*   Raspberry Pi (any model with GPIO pins)
*   DHT22 Temperature and Humidity Sensor
*   10k Ohm Resistor
*   Breadboard and Female-to-Male Jumper Wires
*   MicroSD Card with Raspberry Pi OS
*   Power supply for the Pi

**Interfacing Steps:**
1.  **Connect Power to Sensor:**
    *   Connect the **VCC** pin of the DHT22 to a **3.3V** pin on the Raspberry Pi.
    *   Connect the **GND** pin of the DHT22 to a **Ground** pin on the Pi.
2.  **Connect Data Pin:**
    *   Connect the **Data** pin of the DHT22 to a GPIO pin, for example, **GPIO 4**.
3.  **Add Pull-up Resistor:**
    *   Connect a **10k Ohm resistor** between the **3.3V** pin and the **Data pin (GPIO 4)**.

#### **Part 3: Python Code for Raspberry Pi**

**Prerequisites for Raspberry Pi:**
*   Set up your Raspberry Pi with the latest Raspberry Pi OS and ensure it's connected to the internet.
*   Open the Terminal and install the necessary Python libraries:

```bash
# Update package lists
sudo apt-get update

# Install the Adafruit DHT library
sudo pip3 install Adafruit_DHT

# Install the Adafruit IO client library
sudo pip3 install adafruit-io```
**Note:** The `Adafruit_DHT` library is an older, deprecated one, but it is very stable and simple for this purpose. A newer alternative is `adafruit-circuitpython-dht`. The code below uses the stable `Adafruit_DHT`.

```python
import time
import Adafruit_DHT
from Adafruit_IO import Client, Feed, RequestError

# --- Adafruit IO Configuration ---
# Set to your Adafruit IO username.
ADAFRUIT_IO_USERNAME = "YOUR_IO_USERNAME"
# Set to your Adafruit IO key.
ADAFRUIT_IO_KEY = "YOUR_IO_KEY"

# --- Sensor Configuration ---
SENSOR_TYPE = Adafruit_DHT.DHT22
SENSOR_PIN = 4  # The GPIO pin the sensor is connected to (using BCM numbering)

# Create an instance of the REST client.
aio = Client(ADAFRUIT_IO_USERNAME, ADAFRUIT_IO_KEY)

try:
    # Get the feed objects for temperature and humidity.
    temperature_feed = aio.feeds('temperature')
    humidity_feed = aio.feeds('humidity')
except RequestError:
    # If it doesn't exist, create the feed.
    temp_feed_obj = Feed(name="temperature")
    temperature_feed = aio.create_feed(temp_feed_obj)
    
    hum_feed_obj = Feed(name="humidity")
    humidity_feed = aio.create_feed(hum_feed_obj)

print("Connected to Adafruit IO. Press Ctrl-C to quit.")

while True:
    try:
        # Read the humidity and temperature from the sensor
        # read_retry will attempt to read from the sensor up to 15 times
        humidity, temperature = Adafruit_DHT.read_retry(SENSOR_TYPE, SENSOR_PIN)

        # Check if the readings are valid
        if humidity is not None and temperature is not None:
            # Format the temperature to one decimal place
            temperature = round(temperature, 1)
            humidity = round(humidity, 1)
            
            print(f"Temperature: {temperature}Â°C | Humidity: {humidity}%")
            
            # Send the values to Adafruit IO
            print("Sending data to Adafruit IO...")
            aio.send_data(temperature_feed.key, temperature)
            aio.send_data(humidity_feed.key, humidity)
            print("Data sent!")
        else:
            print("Failed to get a reading from the sensor. Trying again...")

        # Wait 30 seconds before sending the next reading
        time.sleep(30)

    except (RuntimeError, KeyboardInterrupt) as e:
        print(f"An error occurred: {e}")
        break

print("Script finished.")
```

#### **Part 4: Steps to Run the Code**
1.  **Configure the Code:** Open a text editor (like Thonny) on your Raspberry Pi. Copy and paste the code and replace `"YOUR_IO_USERNAME"` and `"YOUR_IO_KEY"` with your Adafruit IO credentials. Save the file as `environment_monitor.py`.
2.  **Run the Script:** Open a terminal, navigate to the directory where you saved the file, and run it using:
    ```bash
    python3 environment_monitor.py
    ```
3.  **Visualize the Data:** The terminal will show the sensor readings being sent. Go to your Adafruit IO dashboard to see the gauges and charts update in near real-time.